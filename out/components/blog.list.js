var $,BlogList,BlogListItem,Enumerable,React,db;$=require("jquery"),React=require("react"),db=require("../modules/firebase"),Enumerable=require("linq"),BlogListItem=require("./blog.list.item"),module.exports=BlogList=React.createClass({getInitialState:function(){return{items:[],size:parseInt(this.props.size||5)}},loadData:function(){return db.query("blog",{limit:this.state.size}).on("value",function(e){return function(t){var r,i;return i=[],r=t.val(),Object.getOwnPropertyNames(r||{}).forEach(function(e){var t;return t=r[e],t._id=e,i.push(t)}),i=i.sort(function(e,t){return e.title>t.title}),e.setState({items:i}),i.length>0?e.getDOMNode().classList.remove("hide"):void 0}}(this))},componentWillMount:function(){return this.loadData()},render:function(){var e;return React.createElement("div",{className:this.props.className+" blog-list hide"},React.createElement("ul",{className:"collection with-header"},React.createElement("li",{className:"collection-header"},React.createElement("h5",null,"Latest entries")),function(){var t,r,i,a;for(i=this.state.items,a=[],t=0,r=i.length;r>t;t++)e=i[t],a.push(React.createElement(BlogListItem,{item:e}));return a}.call(this)))}});